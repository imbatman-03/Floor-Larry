<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add this RIGHT AFTER <meta name="viewport"> -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Larry Pixel Shooter</title>
    <link rel="stylesheet" href="game.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Scanlines Effect -->
    <div class="scanlines"></div>
    
    <!-- Game Container -->
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <div class="header-content">
                <h1 class="game-title">
                    <i class="fas fa-gamepad"></i>
                    LARRY PIXEL SHOOTER
                </h1>
                <div class="game-subtitle">
                    DEFEND THE BASEMENT FLOOR
                </div>
            </div>
            
            <div class="header-controls">
                <button id="soundToggle" class="control-btn" title="Sound">
                    <i class="fas fa-volume-up"></i>
                </button>
                <button id="fullscreenToggle" class="control-btn" title="Fullscreen">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Left Panel - Game Canvas -->
            <div class="game-panel">
                <div class="canvas-container">
                    <canvas id="gameCanvas" width="800" height="600"></canvas>
                    
                    <!-- Game Overlay Screens -->
                    <div id="startScreen" class="overlay-screen active">
                        <div class="overlay-content">
                            <h2>LARRY PIXEL SHOOTER</h2>
                            <div class="instructions">
                                <div class="instruction">
                                    <span class="key">W A S D</span>
                                    <span class="desc">Move Larry</span>
                                </div>
                                <div class="instruction">
                                    <span class="key">SPACE</span>
                                    <span class="desc">Shoot Lasers</span>
                                </div>
                                <div class="instruction">
                                    <span class="key">P</span>
                                    <span class="desc">Pause Game</span>
                                </div>
                                <div class="instruction">
                                    <span class="key">ESC</span>
                                    <span class="desc">Menu</span>
                                </div>
                            </div>
                            <button id="startButton" class="btn-primary">
                                <i class="fas fa-play"></i> START GAME
                            </button>
                            <div class="high-score">
                                HIGH SCORE: <span id="highScoreDisplay">0</span>
                            </div>
                        </div>
                    </div>
                    
                    <div id="pauseScreen" class="overlay-screen">
                        <div class="overlay-content">
                            <h2>GAME PAUSED</h2>
                            <div class="pause-stats">
                                <div class="stat">
                                    <span>SCORE:</span>
                                    <span id="pauseScore">0</span>
                                </div>
                                <div class="stat">
                                    <span>LEVEL:</span>
                                    <span id="pauseLevel">1</span>
                                </div>
                                <div class="stat">
                                    <span>LIVES:</span>
                                    <span id="pauseLives">3</span>
                                </div>
                            </div>
                            <button id="resumeButton" class="btn-primary">
                                <i class="fas fa-play"></i> RESUME
                            </button>
                            <button id="restartButton" class="btn-secondary">
                                <i class="fas fa-redo"></i> RESTART
                            </button>
                        </div>
                    </div>
                    
                    <div id="gameOverScreen" class="overlay-screen">
                        <div class="overlay-content">
                            <h2 class="game-over">GAME OVER</h2>
                            <div class="final-stats">
                                <div class="final-stat">
                                    <span>FINAL SCORE:</span>
                                    <span id="finalScore">0</span>
                                </div>
                                <div class="final-stat">
                                    <span>LEVEL REACHED:</span>
                                    <span id="finalLevel">1</span>
                                </div>
                                <div class="final-stat">
                                    <span>ENEMIES DEFEATED:</span>
                                    <span id="finalEnemies">0</span>
                                </div>
                            </div>
                            <button id="playAgainButton" class="btn-primary">
                                <i class="fas fa-redo"></i> PLAY AGAIN
                            </button>
                            <button id="menuButton" class="btn-secondary">
                                <i class="fas fa-home"></i> MAIN MENU
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel - Game Info & Controls -->
            <div class="info-panel">
                <!-- Game Stats -->
                <div class="stats-container">
                    <div class="stats-grid">
                        <div class="stat-box">
                            <div class="stat-label">SCORE</div>
                            <div class="stat-value" id="scoreDisplay">0</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">LEVEL</div>
                            <div class="stat-value" id="levelDisplay">1</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">LIVES</div>
                            <div class="stat-value" id="livesDisplay">3</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">ENEMIES</div>
                            <div class="stat-value" id="enemiesDisplay">0</div>
                        </div>
                    </div>
                    
                    <!-- Health Bar -->
                    <div class="health-container">
                        <div class="health-label">
                            <i class="fas fa-heart"></i> HEALTH
                        </div>
                        <div class="health-bar">
                            <div id="healthFill" class="health-fill"></div>
                        </div>
                        <div class="health-text" id="healthText">100%</div>
                    </div>
                    
                    <!-- Weapon Status -->
                    <div class="weapon-container">
                        <div class="weapon-label">
                            <i class="fas fa-crosshairs"></i> WEAPON
                        </div>
                        <div class="weapon-info">
                            <div class="weapon-name" id="weaponName">BASIC LASER</div>
                            <div class="weapon-damage">
                                DAMAGE: <span id="weaponDamage">10</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Controls Guide -->
                <div class="controls-container">
                    <h3><i class="fas fa-gamepad"></i> CONTROLS</h3>
                    <div class="controls-grid">
                        <div class="control-item">
                            <div class="key">W / ‚Üë</div>
                            <div class="action">MOVE UP</div>
                        </div>
                        <div class="control-item">
                            <div class="key">S / ‚Üì</div>
                            <div class="action">MOVE DOWN</div>
                        </div>
                        <div class="control-item">
                            <div class="key">A / ‚Üê</div>
                            <div class="action">MOVE LEFT</div>
                        </div>
                        <div class="control-item">
                            <div class="key">D / ‚Üí</div>
                            <div class="action">MOVE RIGHT</div>
                        </div>
                        <div class="control-item">
                            <div class="key">SPACE</div>
                            <div class="action">SHOOT</div>
                        </div>
                        <div class="control-item">
                            <div class="key">P</div>
                            <div class="action">PAUSE</div>
                        </div>
                        <div class="control-item">
                            <div class="key">ESC</div>
                            <div class="action">MENU</div>
                        </div>
                        <div class="control-item">
                            <div class="key">SHIFT</div>
                            <div class="action">RAPID FIRE</div>
                        </div>
                    </div>
                </div>

                <!-- Power-ups -->
                <div class="powerups-container">
                    <h3><i class="fas fa-bolt"></i> ACTIVE POWER-UPS</h3>
                    <div id="activePowerups" class="powerups-list">
                        <div class="no-powerups">No active power-ups</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="game-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <span class="pixel-text">LARRY PIXEL SHOOTER v1.0</span>
                    <span class="footer-separator">|</span>
                    <span class="score-notice">HIGH SCORE: <span id="footerHighScore">0</span></span>
                </div>
                <div class="footer-right">
                    <button id="discordConnect" class="discord-btn">
                        <i class="fab fa-discord"></i> CONNECT DISCORD
                    </button>
                    <button id="leaderboardBtn" class="leaderboard-btn">
                        <i class="fas fa-trophy"></i> LEADERBOARD
                    </button>
                </div>
            </div>
        </footer>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboardModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-trophy"></i> LEADERBOARD</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="leaderboard-list" id="leaderboardList">
                    <!-- Leaderboard entries will be added here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Discord Modal -->
    <div id="discordModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fab fa-discord"></i> DISCORD CONNECT</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="discord-info">
                    <p>Connect your Discord account to:</p>
                    <ul>
                        <li><i class="fas fa-check"></i> Save your high scores</li>
                        <li><i class="fas fa-check"></i> Unlock achievements</li>
                        <li><i class="fas fa-check"></i> Compete on global leaderboard</li>
                        <li><i class="fas fa-check"></i> Earn exclusive Larry NFTs</li>
                    </ul>
                    <button id="connectDiscord" class="btn-discord">
                        <i class="fab fa-discord"></i> CONNECT WITH DISCORD
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="game.js"></script>
    <!-- Mobile Virtual Controls -->
<div class="mobile-controls" id="mobileControls" style="display: none;">
    <div class="virtual-button" id="moveButton">
        üïπÔ∏è
    </div>
    <div class="virtual-button" id="shootButton">
        üî´
    </div>
</div>

<script>
// Show mobile controls only on mobile
if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
    document.getElementById('mobileControls').style.display = 'flex';
    
    // Add touch events to virtual buttons
    document.getElementById('shootButton').addEventListener('touchstart', function(e) {
        e.preventDefault();
        shoot();
        // Keep shooting while touching
        const interval = setInterval(shoot, 300);
        this.addEventListener('touchend', function() {
            clearInterval(interval);
        }, { once: true });
    });
}
</script>
</body>
</html>
